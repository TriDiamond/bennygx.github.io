{"title":"IONIC 2 升级 3 教程","uid":"4e215602f6b85cde51a96fad4b3567e1","slug":"ionic/upgrade-guide","date":"2017-04-10T00:00:00.000Z","updated":"2021-03-29T16:00:09.456Z","comments":true,"path":"api/articles/ionic/upgrade-guide.json","excerpt":"","keywords":null,"cover":"https://res.cloudinary.com/tridiamond/image/upload/v1571186961/blog/ionic_cover_hvzkwo.png","content":"<h2 id=\"升级步骤\"><a href=\"#升级步骤\" class=\"headerlink\" title=\"升级步骤\"></a>升级步骤</h2><blockquote>\n<p>这一次的升级Ionic 3 换成了使用最新的Angular 4.0, 最新的TypeScript, 添加了懒加载和修复了一些组件的bug.</p>\n</blockquote>\n<ol>\n<li>首先更新<code>package.json</code>, 按照以下的代码相应替换你package.json里面的代码, 并且把你项目根目录下的<code>node_modules</code>文件夹删除掉, 然后运行<code>npm install</code> (如果你是用淘宝镜像可以运行 <code>cnpm install</code>)</li>\n</ol>\n<pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"@angular/common\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"4.0.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@angular/compiler\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"4.0.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@angular/compiler-cli\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"4.0.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@angular/core\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"4.0.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@angular/forms\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"4.0.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@angular/http\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"4.0.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@angular/platform-browser\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"4.0.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@angular/platform-browser-dynamic\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"4.0.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@ionic-native/core\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"3.4.2\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@ionic-native/splash-screen\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"3.4.2\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@ionic-native/status-bar\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"3.4.2\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"@ionic/storage\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2.0.1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"ionic-angular\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"3.0.1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"ionicons\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"3.0.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"rxjs\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"5.1.1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"sw-toolbox\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"3.4.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"zone.js\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^0.8.4\"</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token property\">\"@ionic/app-scripts\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.3.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"typescript\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"~2.2.1\"</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ol start=\"2\">\n<li>第二步你需要在<code>app/app.module.ts</code>文件里面引入<code>BrowserModule</code>和<code>HttpModule</code></li>\n</ol>\n<blockquote>\n<p>首先需要在头部引入这两个module (如果你的APP不使用HTTP可以不引入<code>HttpModule</code>)</p>\n</blockquote>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> BrowserModule <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/platform-browser'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> HttpModule <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/http'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>在同一个文件里面找到<code>imports</code>并且加入<code>BrowserModule</code>和<code>HttpModule</code></p>\n</blockquote>\n<pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\">imports<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n  BrowserModule<span class=\"token punctuation\">,</span>\n  HttpModule<span class=\"token punctuation\">,</span>\n  IonicModule<span class=\"token punctuation\">.</span><span class=\"token function\">forRoot</span><span class=\"token punctuation\">(</span>MyApp<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ol start=\"3\">\n<li>如果你升级到 Ionic Native 3.x, 就是CLI3. 使用 Ionic Native 3.x的话, APP打包出来会更小. 因为Ionic Native的原生插件都不自带有了, 你使用一个就要安装一个. 如果你原有的Ionic 2 项目有引入原生插件, 你就要做以下操作.</li>\n</ol>\n<blockquote>\n<p>这里用<code>Camera</code>和<code>Geolocation</code>这个两个原生插件作为例子, 你其他的插件都需要使用相同的方式做修改</p>\n</blockquote>\n<blockquote>\n<p>注意您使用的所有插件都必须要在<code>app/app.module.ts</code>里面先引用了, 而且要在<code>app/app.modules.ts</code>里面的providers里面声明, 如果没有这样配置就会出现<code>No provider for XXXXX</code>这样的报错了!</p>\n</blockquote>\n<h4 id=\"Camera插件\"><a href=\"#Camera插件\" class=\"headerlink\" title=\"Camera插件\"></a>Camera插件</h4><pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// 在app/app.module.ts文件里面</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> Camera <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ionic-native/camera'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">...</span>\n\n@<span class=\"token function\">NgModule</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n  <span class=\"token operator\">...</span>\n\n  providers<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token operator\">...</span>\n    Camera\n    <span class=\"token operator\">...</span>\n  <span class=\"token punctuation\">]</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppModule</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"Geolocation插件\"><a href=\"#Geolocation插件\" class=\"headerlink\" title=\"Geolocation插件\"></a>Geolocation插件</h4><pre class=\"line-numbers language-typescript\" data-language=\"typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// 在app/app.module.ts文件里面</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> Geolocation <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@ionic-native/geolocation'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> Platform <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'ionic-angular'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> NgZone <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/core'</span><span class=\"token punctuation\">;</span>\n\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyComponent</span> <span class=\"token punctuation\">&#123;</span>\n\n  <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">private</span> geolocation<span class=\"token operator\">:</span> Geolocation<span class=\"token punctuation\">,</span> <span class=\"token keyword\">private</span> platform<span class=\"token operator\">:</span> Platform<span class=\"token punctuation\">,</span> <span class=\"token keyword\">private</span> ngZone<span class=\"token operator\">:</span> NgZone<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\n    platform<span class=\"token punctuation\">.</span><span class=\"token function\">ready</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n\n      <span class=\"token comment\">// get position</span>\n      geolocation<span class=\"token punctuation\">.</span><span class=\"token function\">getCurrentPosition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>pos <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n\n        <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">lat: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>pos<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>latitude<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">, lon: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>pos<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>longitude<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n\n      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n      <span class=\"token comment\">// watch position</span>\n      <span class=\"token keyword\">const</span> watch <span class=\"token operator\">=</span> geolocation<span class=\"token punctuation\">.</span><span class=\"token function\">watchPosition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>pos <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n\n        <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">lat: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>pos<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>latitude<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token string\">, lon: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$&#123;</span>pos<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>longitude<span class=\"token interpolation-punctuation punctuation\">&#125;</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\">// Currently, observables from Ionic Native plugins</span>\n        <span class=\"token comment\">// need to run inside of zone to trigger change detection</span>\n        ngZone<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>position <span class=\"token operator\">=</span> pos<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n\n      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// to stop watching</span>\n      watch<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<blockquote>\n<p>更详细的文档可以参考官方的修改日记 <a href=\"https://github.com/driftyco/ionic-native/blob/master/README.md\">https://github.com/driftyco/ionic-native/blob/master/README.md</a></p>\n</blockquote>\n<h2 id=\"组件Component更变\"><a href=\"#组件Component更变\" class=\"headerlink\" title=\"组件Component更变\"></a>组件<code>Component</code>更变</h2><h4 id=\"新网格\"><a href=\"#新网格\" class=\"headerlink\" title=\"新网格\"></a>新网格</h4><blockquote>\n<p>旧的网格体系已经废除, 新的网格组件请参考官方文档 <a href=\"http://blog.ionic.io/build-awesome-desktop-apps-with-ionics-new-responsive-grid/\">http://blog.ionic.io/build-awesome-desktop-apps-with-ionics-new-responsive-grid/</a></p>\n</blockquote>\n<h4 id=\"标签的color属性更变\"><a href=\"#标签的color属性更变\" class=\"headerlink\" title=\"标签的color属性更变\"></a>标签的<code>color</code>属性更变</h4><blockquote>\n<p>以下标签的<code>color</code>属性在新的版本里面会不起效果了, 现在必须要使用<code>ion-text</code>才会起效果, 详细说明请看官方文档 <a href=\"http://ionicframework.com/docs/api/components/typography/Typography/\">http://ionicframework.com/docs/api/components/typography/Typography/</a></p>\n</blockquote>\n<pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\">h1[color]<span class=\"token punctuation\">,</span> h2[color]<span class=\"token punctuation\">,</span> h3[color]<span class=\"token punctuation\">,</span> h4[color]<span class=\"token punctuation\">,</span> h5[color]<span class=\"token punctuation\">,</span> h6[color]<span class=\"token punctuation\">,</span> a[color]<span class=\"token punctuation\">:</span><span class=\"token function\">not</span><span class=\"token punctuation\">(</span>[ion-button]<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token function\">not</span><span class=\"token punctuation\">(</span>[ion-item]<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token function\">not</span><span class=\"token punctuation\">(</span>[ion-fab]<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> p[color]<span class=\"token punctuation\">,</span> span[color]<span class=\"token punctuation\">,</span> b[color]<span class=\"token punctuation\">,</span> i[color]<span class=\"token punctuation\">,</span> strong[color]<span class=\"token punctuation\">,</span> em[color]<span class=\"token punctuation\">,</span> small[color]<span class=\"token punctuation\">,</span> sub[color]<span class=\"token punctuation\">,</span> sup[color]<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"Slides组件更变\"><a href=\"#Slides组件更变\" class=\"headerlink\" title=\"Slides组件更变\"></a>Slides组件更变</h4><blockquote>\n<p>以下的Slides属性和方法已经正式在新版本里面移除了</p>\n</blockquote>\n<ul>\n<li>Slides的input的<code>options</code>属性已经废除, 请使用标签的属性;</li>\n<li>Slide的事件<code>ionWillChange</code>方法已经废除, 请使用<code>ionSlideWillChange</code>;</li>\n<li>Slide的事件<code>ionDidChange</code>方法已经废除, 请使用<code>ionSlideDidChange</code>;</li>\n<li>Slide的事件<code>ionDrag</code>方法已经废除, 请使用<code>ionSlideDrag</code>;</li>\n<li>Slides的<code>getSlider()</code>方法已经废除, 请使用<code>ion-slides</code>实例;</li>\n</ul>\n","feature":null,"text":"升级步骤 这一次的升级Ionic 3 换成了使用最新的Angular 4.0, 最新的TypeScript, 添加了懒加载和修复了一些组件的bug. 首先更新package.json, 按照以下的代码相应替换你package.json里面的代码, 并且把你项目根目录下的node_...","link":"","raw":"---\ntitle: \"IONIC 2 升级 3 教程\"\nabstract: 这一次的升级Ionic 3 换成了使用最新的Angular 4.0, 最新的TypeScript, 添加了懒加载和修复了一些组件的bug.\ndate: 2017/04/10\ncategories:\n  - Ionic\ntags:\n  - Ionic 3\n  - Angular 4\n  - Hybird App\ncover: https://res.cloudinary.com/tridiamond/image/upload/v1571186961/blog/ionic_cover_hvzkwo.png\n---\n\n## 升级步骤\n\n> 这一次的升级Ionic 3 换成了使用最新的Angular 4.0, 最新的TypeScript, 添加了懒加载和修复了一些组件的bug.\n\n1. 首先更新```package.json```, 按照以下的代码相应替换你package.json里面的代码, 并且把你项目根目录下的```node_modules```文件夹删除掉, 然后运行```npm install``` (如果你是用淘宝镜像可以运行 ```cnpm install```)\n\n```json\n\"dependencies\": {\n    \"@angular/common\": \"4.0.0\",\n    \"@angular/compiler\": \"4.0.0\",\n    \"@angular/compiler-cli\": \"4.0.0\",\n    \"@angular/core\": \"4.0.0\",\n    \"@angular/forms\": \"4.0.0\",\n    \"@angular/http\": \"4.0.0\",\n    \"@angular/platform-browser\": \"4.0.0\",\n    \"@angular/platform-browser-dynamic\": \"4.0.0\",\n    \"@ionic-native/core\": \"3.4.2\",\n    \"@ionic-native/splash-screen\": \"3.4.2\",\n    \"@ionic-native/status-bar\": \"3.4.2\",\n    \"@ionic/storage\": \"2.0.1\",\n    \"ionic-angular\": \"3.0.1\",\n    \"ionicons\": \"3.0.0\",\n    \"rxjs\": \"5.1.1\",\n    \"sw-toolbox\": \"3.4.0\",\n    \"zone.js\": \"^0.8.4\"\n},\n\"devDependencies\": {\n  \"@ionic/app-scripts\": \"1.3.0\",\n  \"typescript\": \"~2.2.1\"\n}\n```\n\n2. 第二步你需要在```app/app.module.ts```文件里面引入```BrowserModule```和```HttpModule```\n\n> 首先需要在头部引入这两个module (如果你的APP不使用HTTP可以不引入```HttpModule```)\n\n```typescript\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HttpModule } from '@angular/http';\n```\n\n> 在同一个文件里面找到```imports```并且加入```BrowserModule```和```HttpModule```\n\n```typescript\nimports: [\n  BrowserModule,\n  HttpModule,\n  IonicModule.forRoot(MyApp)\n],\n```\n\n3. 如果你升级到 Ionic Native 3.x, 就是CLI3. 使用 Ionic Native 3.x的话, APP打包出来会更小. 因为Ionic Native的原生插件都不自带有了, 你使用一个就要安装一个. 如果你原有的Ionic 2 项目有引入原生插件, 你就要做以下操作.\n\n> 这里用```Camera```和```Geolocation```这个两个原生插件作为例子, 你其他的插件都需要使用相同的方式做修改\n\n> 注意您使用的所有插件都必须要在```app/app.module.ts```里面先引用了, 而且要在```app/app.modules.ts```里面的providers里面声明, 如果没有这样配置就会出现```No provider for XXXXX```这样的报错了!\n\n#### Camera插件\n\n```typescript\n// 在app/app.module.ts文件里面\nimport { Camera } from '@ionic-native/camera';\n\n...\n\n@NgModule({\n  ...\n\n  providers: [\n    ...\n    Camera\n    ...\n  ]\n  ...\n})\nexport class AppModule { }\n```\n\n#### Geolocation插件\n\n```typescript\n// 在app/app.module.ts文件里面\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { Platform } from 'ionic-angular';\n\nimport { NgZone } from '@angular/core';\n\n@Component({ ... })\nexport class MyComponent {\n\n  constructor(private geolocation: Geolocation, private platform: Platform, private ngZone: NgZone) {\n\n    platform.ready().then(() => {\n\n      // get position\n      geolocation.getCurrentPosition().then(pos => {\n\n        console.log(`lat: ${pos.coords.latitude}, lon: ${pos.coords.longitude}`)\n\n      });\n\n\n      // watch position\n      const watch = geolocation.watchPosition().subscribe(pos => {\n\n        console.log(`lat: ${pos.coords.latitude}, lon: ${pos.coords.longitude}`)\n\n        // Currently, observables from Ionic Native plugins\n        // need to run inside of zone to trigger change detection\n        ngZone.run(() => {\n          this.position = pos;\n        })\n\n      });\n\n      // to stop watching\n      watch.unsubscribe();\n\n    });\n\n  }\n\n}\n```\n\n> 更详细的文档可以参考官方的修改日记 https://github.com/driftyco/ionic-native/blob/master/README.md\n\n## 组件`Component`更变\n\n#### 新网格\n\n> 旧的网格体系已经废除, 新的网格组件请参考官方文档 http://blog.ionic.io/build-awesome-desktop-apps-with-ionics-new-responsive-grid/\n\n#### 标签的`color`属性更变\n\n> 以下标签的```color```属性在新的版本里面会不起效果了, 现在必须要使用```ion-text```才会起效果, 详细说明请看官方文档 http://ionicframework.com/docs/api/components/typography/Typography/\n\n```css\nh1[color], h2[color], h3[color], h4[color], h5[color], h6[color], a[color]:not([ion-button]):not([ion-item]):not([ion-fab]), p[color], span[color], b[color], i[color], strong[color], em[color], small[color], sub[color], sup[color]\n```\n\n#### Slides组件更变\n\n> 以下的Slides属性和方法已经正式在新版本里面移除了\n\n+ Slides的input的```options```属性已经废除, 请使用标签的属性;\n+ Slide的事件```ionWillChange```方法已经废除, 请使用```ionSlideWillChange```;\n+ Slide的事件```ionDidChange```方法已经废除, 请使用```ionSlideDidChange```;\n+ Slide的事件```ionDrag```方法已经废除, 请使用```ionSlideDrag```;\n+ Slides的```getSlider()```方法已经废除, 请使用```ion-slides```实例;\n\n","photos":[],"count_time":{"symbolsCount":"3.8k","symbolsTime":"3 mins."},"categories":[{"name":"Ionic","slug":"Ionic","count":6,"path":"api/categories/Ionic.json"}],"tags":[{"name":"Hybird App","slug":"Hybird-App","count":6,"path":"api/tags/Hybird-App.json"},{"name":"Ionic 3","slug":"Ionic-3","count":3,"path":"api/tags/Ionic-3.json"},{"name":"Angular 4","slug":"Angular-4","count":4,"path":"api/tags/Angular-4.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8D%87%E7%BA%A7%E6%AD%A5%E9%AA%A4\"><span class=\"toc-text\">升级步骤</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Camera%E6%8F%92%E4%BB%B6\"><span class=\"toc-text\">Camera插件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Geolocation%E6%8F%92%E4%BB%B6\"><span class=\"toc-text\">Geolocation插件</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%BB%84%E4%BB%B6Component%E6%9B%B4%E5%8F%98\"><span class=\"toc-text\">组件Component更变</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%96%B0%E7%BD%91%E6%A0%BC\"><span class=\"toc-text\">新网格</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%A0%87%E7%AD%BE%E7%9A%84color%E5%B1%9E%E6%80%A7%E6%9B%B4%E5%8F%98\"><span class=\"toc-text\">标签的color属性更变</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Slides%E7%BB%84%E4%BB%B6%E6%9B%B4%E5%8F%98\"><span class=\"toc-text\">Slides组件更变</span></a></li></ol></li></ol></li></ol>","author":{"name":"三钻","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":""},"mapped":true,"prev_post":{"title":"修复 Ionic 3.0.1 在IOS点击Tabs多次出现黑屏问题方法","uid":"aa3962a24afd553a340b25c1704d59c4","slug":"ionic/ios-blackscreen-fix","date":"2017-04-11T00:00:00.000Z","updated":"2021-03-29T16:00:09.456Z","comments":true,"path":"api/articles/ionic/ios-blackscreen-fix.json","keywords":null,"cover":"https://res.cloudinary.com/tridiamond/image/upload/v1571186961/blog/ionic_cover_hvzkwo.png","text":" Ionic 3.0.1 在IOS存在的一个严重的BUG，在IOS下多次重复点击TAB的时候页面会出现黑屏问题。 好消息是目前有一个暂时的修复方法。但是这个方法涉及修改Ionic核心代码，所以如果你们正在使用Ionic3发布APP，可以暂时使用以下办法修复问题。 在node_mo...","link":"","photos":[],"count_time":{"symbolsCount":"1k","symbolsTime":"1 mins."},"categories":[{"name":"Ionic","slug":"Ionic","count":6,"path":"api/categories/Ionic.json"}],"tags":[{"name":"Hybird App","slug":"Hybird-App","count":6,"path":"api/tags/Hybird-App.json"},{"name":"Ionic 3","slug":"Ionic-3","count":3,"path":"api/tags/Ionic-3.json"},{"name":"Angular 4","slug":"Angular-4","count":4,"path":"api/tags/Angular-4.json"}],"author":{"name":"三钻","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":""}},"next_post":{"title":"IONIC 2 - 确认密码","uid":"b0927e1c3835a3a3456ac936677ed5d9","slug":"ionic/comfirm-password-validators","date":"2017-03-19T00:00:00.000Z","updated":"2021-03-29T16:00:09.456Z","comments":true,"path":"api/articles/ionic/comfirm-password-validators.json","keywords":null,"cover":"https://res.cloudinary.com/tridiamond/image/upload/v1571186961/blog/ionic_cover_hvzkwo.png","text":"开发过程中一般在注册或者修改密码都要写一个密码确认的表格, 这篇文章就是记录怎么在Ionic2里面使用FormBuilder和Validators判断密码是否一致. 首先这篇文章是默认您已经了解怎么使用Angualr2的FormBuilder和Validator, 如果你还没了解...","link":"","photos":[],"count_time":{"symbolsCount":"3k","symbolsTime":"3 mins."},"categories":[{"name":"Ionic","slug":"Ionic","count":6,"path":"api/categories/Ionic.json"}],"tags":[{"name":"Ionic 2","slug":"Ionic-2","count":3,"path":"api/tags/Ionic-2.json"},{"name":"Angular 2","slug":"Angular-2","count":2,"path":"api/tags/Angular-2.json"},{"name":"Hybird App","slug":"Hybird-App","count":6,"path":"api/tags/Hybird-App.json"}],"author":{"name":"三钻","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":""}}}